{
  "contractName": "TradingPeriodRestriction",
  "abi": [
    {
      "constant": false,
      "inputs": [
        {
          "name": "keyHash",
          "type": "bytes32"
        },
        {
          "name": "start",
          "type": "uint256"
        },
        {
          "name": "end",
          "type": "uint256"
        }
      ],
      "name": "addTradingPeriod",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "keyHash",
          "type": "bytes32"
        },
        {
          "name": "periodIndex",
          "type": "uint256"
        },
        {
          "name": "start",
          "type": "uint256"
        },
        {
          "name": "end",
          "type": "uint256"
        }
      ],
      "name": "changeTradingPeriod",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "keyHash",
          "type": "bytes32"
        },
        {
          "name": "periodIndex",
          "type": "uint256"
        }
      ],
      "name": "tradingPeriodByKey",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        },
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "keyHash",
          "type": "bytes32"
        }
      ],
      "name": "tradingPeriodCountByKey",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "keyHash",
          "type": "bytes32"
        },
        {
          "name": "onDate",
          "type": "uint256"
        }
      ],
      "name": "canTrade",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550610806806100536000396000f30060806040526004361061006d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063129c6c68146100725780633ee15bd1146100c157806356b9bbc5146101065780637174feb61461015c578063e5c7c889146101af575b600080fd5b34801561007e57600080fd5b506100bf60048036038101908080356000191690602001909291908035906020019092919080359060200190929190803590602001909291905050506101f4565b005b3480156100cd57600080fd5b506100f06004803603810190808035600019169060200190929190505050610408565b6040518082815260200191505060405180910390f35b34801561011257600080fd5b5061013f600480360381019080803560001916906020019092919080359060200190929190505050610430565b604051808381526020018281526020019250505060405180910390f35b34801561016857600080fd5b506101956004803603810190808035600019169060200190929190803590602001909291905050506104b2565b604051808215151515815260200191505060405180910390f35b3480156101bb57600080fd5b506101f2600480360381019080803560001916906020019092919080359060200190929190803590602001909291905050506105d1565b005b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156102de576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c8152602001807f4f6e6c7920706172656e7420636f6e74726163742063616e206164642074726181526020017f64696e6720706572696f6473000000000000000000000000000000000000000081525060400191505060405180910390fd5b808210806102ec5750600081145b1515610386576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001807f53746172742064617465206d757374206265206265666f726520656e6420646181526020017f746500000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b81600160008660001916600019168152602001908152602001600020848154811015156103af57fe5b90600052602060002090600202016000018190555080600160008660001916600019168152602001908152602001600020848154811015156103ed57fe5b90600052602060002090600202016001018190555050505050565b6000600160008360001916600019168152602001908152602001600020805490509050919050565b6000806001600085600019166000191681526020019081526020016000208381548110151561045b57fe5b9060005260206000209060020201600001546001600086600019166000191681526020019081526020016000208481548110151561049557fe5b906000526020600020906002020160010154915091509250929050565b60008060008091505b600160008660001916600019168152602001908152602001600020805490508210156105c45760006001600087600019166000191681526020019081526020016000208381548110151561050b57fe5b906000526020600020906002020160010154149050836001600087600019166000191681526020019081526020016000208381548110151561054957fe5b906000526020600020906002020160000154111580156105a95750836001600087600019166000191681526020019081526020016000208381548110151561058d57fe5b90600052602060002090600202016001015411806105a85750805b5b156105b757600192506105c9565b81806001019250506104bb565b600092505b505092915050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156106bb576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c8152602001807f4f6e6c7920706172656e7420636f6e74726163742063616e206164642074726181526020017f64696e6720706572696f6473000000000000000000000000000000000000000081525060400191505060405180910390fd5b808210806106c95750600081145b1515610763576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001807f53746172742064617465206d757374206265206265666f726520656e6420646181526020017f746500000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b6001600084600019166000191681526020019081526020016000206040805190810160405280848152602001838152509080600181540180825580915050906001820390600052602060002090600202016000909192909190915060008201518160000155602082015181600101555050505050505600a165627a7a72305820d91f680f6623ee92be2186b8a3b28b93a67ae98de9af675b99feac4acb966ea10029",
  "deployedBytecode": "0x60806040526004361061006d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063129c6c68146100725780633ee15bd1146100c157806356b9bbc5146101065780637174feb61461015c578063e5c7c889146101af575b600080fd5b34801561007e57600080fd5b506100bf60048036038101908080356000191690602001909291908035906020019092919080359060200190929190803590602001909291905050506101f4565b005b3480156100cd57600080fd5b506100f06004803603810190808035600019169060200190929190505050610408565b6040518082815260200191505060405180910390f35b34801561011257600080fd5b5061013f600480360381019080803560001916906020019092919080359060200190929190505050610430565b604051808381526020018281526020019250505060405180910390f35b34801561016857600080fd5b506101956004803603810190808035600019169060200190929190803590602001909291905050506104b2565b604051808215151515815260200191505060405180910390f35b3480156101bb57600080fd5b506101f2600480360381019080803560001916906020019092919080359060200190929190803590602001909291905050506105d1565b005b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156102de576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c8152602001807f4f6e6c7920706172656e7420636f6e74726163742063616e206164642074726181526020017f64696e6720706572696f6473000000000000000000000000000000000000000081525060400191505060405180910390fd5b808210806102ec5750600081145b1515610386576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001807f53746172742064617465206d757374206265206265666f726520656e6420646181526020017f746500000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b81600160008660001916600019168152602001908152602001600020848154811015156103af57fe5b90600052602060002090600202016000018190555080600160008660001916600019168152602001908152602001600020848154811015156103ed57fe5b90600052602060002090600202016001018190555050505050565b6000600160008360001916600019168152602001908152602001600020805490509050919050565b6000806001600085600019166000191681526020019081526020016000208381548110151561045b57fe5b9060005260206000209060020201600001546001600086600019166000191681526020019081526020016000208481548110151561049557fe5b906000526020600020906002020160010154915091509250929050565b60008060008091505b600160008660001916600019168152602001908152602001600020805490508210156105c45760006001600087600019166000191681526020019081526020016000208381548110151561050b57fe5b906000526020600020906002020160010154149050836001600087600019166000191681526020019081526020016000208381548110151561054957fe5b906000526020600020906002020160000154111580156105a95750836001600087600019166000191681526020019081526020016000208381548110151561058d57fe5b90600052602060002090600202016001015411806105a85750805b5b156105b757600192506105c9565b81806001019250506104bb565b600092505b505092915050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156106bb576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c8152602001807f4f6e6c7920706172656e7420636f6e74726163742063616e206164642074726181526020017f64696e6720706572696f6473000000000000000000000000000000000000000081525060400191505060405180910390fd5b808210806106c95750600081145b1515610763576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260228152602001807f53746172742064617465206d757374206265206265666f726520656e6420646181526020017f746500000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b6001600084600019166000191681526020019081526020016000206040805190810160405280848152602001838152509080600181540180825580915050906001820390600052602060002090600202016000909192909190915060008201518160000155602082015181600101555050505050505600a165627a7a72305820d91f680f6623ee92be2186b8a3b28b93a67ae98de9af675b99feac4acb966ea10029",
  "sourceMap": "163:3222:15:-;;;138:10:14;120:15;;:28;;;;;;;;;;;;;;;;;;163:3222:15;;;;;;",
  "deployedSourceMap": "163:3222:15:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1301:347;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1301:347:15;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2400:143;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2400:143:15;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1921:258;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1921:258:15;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2848:535;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2848:535:15;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;669:258;;8:9:-1;5:2;;;30:1;27;20:12;5:2;669:258:15;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1301:347;221:15:14;;;;;;;;;;;207:29;;:10;:29;;;199:86;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1451:3:15;1443:5;:11;:23;;;;1465:1;1458:3;:8;1443:23;1435:70;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1570:5;1520:15;:24;1536:7;1520:24;;;;;;;;;;;;;;;;;1545:11;1520:37;;;;;;;;;;;;;;;;;;;;:47;;:55;;;;1633:3;1585:15;:24;1601:7;1585:24;;;;;;;;;;;;;;;;;1610:11;1585:37;;;;;;;;;;;;;;;;;;;;:45;;:51;;;;1301:347;;;;:::o;2400:143::-;2470:7;2497:15;:24;2513:7;2497:24;;;;;;;;;;;;;;;;;:31;;;;2489:39;;2400:143;;;:::o;1921:258::-;2007:7;2016;2056:15;:24;2072:7;2056:24;;;;;;;;;;;;;;;;;2081:11;2056:37;;;;;;;;;;;;;;;;;;;;:47;;;2117:15;:24;2133:7;2117:24;;;;;;;;;;;;;;;;;2142:11;2117:37;;;;;;;;;;;;;;;;;;;;:45;;;2035:137;;;;1921:258;;;;;:::o;2848:535::-;2919:4;2941:9;3013:17;2953:1;2941:13;;2936:409;2960:15;:24;2976:7;2960:24;;;;;;;;;;;;;;;;;:31;;;;2956:1;:35;2936:409;;;3072:1;3033:15;:24;3049:7;3033:24;;;;;;;;;;;;;;;;;3058:1;3033:27;;;;;;;;;;;;;;;;;;;;:35;;;:40;3013:60;;3208:6;3167:15;:24;3183:7;3167:24;;;;;;;;;;;;;;;;;3192:1;3167:27;;;;;;;;;;;;;;;;;;;;:37;;;:47;;:113;;;;;3257:6;3219:15;:24;3235:7;3219:24;;;;;;;;;;;;;;;;;3244:1;3219:27;;;;;;;;;;;;;;;;;;;;:35;;;:44;:60;;;;3267:12;3219:60;3167:113;3163:163;;;3307:4;3300:11;;;;3163:163;2993:3;;;;;;;2936:409;;;3370:5;3363:12;;2848:535;;;;;;;:::o;669:258::-;221:15:14;;;;;;;;;;;207:29;;:10;:29;;;199:86;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;795:3:15;787:5;:11;:23;;;;809:1;802:3;:8;787:23;779:70;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;859:15;:24;875:7;859:24;;;;;;;;;;;;;;;;;889:25;;;;;;;;;903:5;889:25;;;;910:3;889:25;;;859:56;;39:1:-1;33:3;27:10;23:18;57:10;52:3;45:23;79:10;72:17;;0:93;859:56:15;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;669:258;;;:::o",
  "source": "pragma solidity ^0.4.24;\n\nimport \"./TradeRestriction.sol\";\n\n/// @title Restricts trading to a valid period of time, i.e start and expiry.\n/// @author Civic Ledger\ncontract TradingPeriodRestriction is TradeRestriction {\n\n    struct TradingPeriod {\n        uint256 startDate;\n        uint256 endDate;\n    }\n\n    mapping(bytes32 => TradingPeriod[]) _tradingPeriods;\n\n    /// @dev Adds a valid trading period for something identified by keyHash (can add multiple trading periods for a keyHash)\n    /// @param keyHash Key hash of the thing to be restricted\n    /// @param start Start date of the trading period\n    /// @param end End date (expiry) of the trading period\n    function addTradingPeriod(bytes32 keyHash, uint256 start, uint256 end) public onlyParentContract() {\n\n        require(start < end || end == 0, \"Start date must be before end date\");\n        _tradingPeriods[keyHash].push(TradingPeriod(start, end));\n    \n    }\n\n    /// @dev Updates a valid trading period with different start and end dates.\n    /// @param keyHash Key hash of the thing to be restricted\n    /// @param periodIndex Index of the trading period to change, as there can be multiple periods added\n    /// @param start New start date of the trading period\n    /// @param end New end date (expiry) of the trading period\n    function changeTradingPeriod(bytes32 keyHash, uint256 periodIndex, uint256 start, uint256 end) public onlyParentContract() {\n\n        require(start < end || end == 0, \"Start date must be before end date\");\n    \n        _tradingPeriods[keyHash][periodIndex].startDate = start;\n        _tradingPeriods[keyHash][periodIndex].endDate = end;\n    \n    }\n\n    /// @dev Retrieves a trading period related to keyHash at period index \n    /// @param keyHash Key hash of the thing being restricted\n    /// @param periodIndex Index of the trading period to retrieve\n    /// @return Start date and end date of the trading period\n    function tradingPeriodByKey(bytes32 keyHash, uint256 periodIndex) public view returns(uint256, uint256) {\n        return (\n            _tradingPeriods[keyHash][periodIndex].startDate,\n            _tradingPeriods[keyHash][periodIndex].endDate\n        );\n    }\n\n    /// @dev Retrieves the count of trading periods related to keyHash, to support iteration \n    /// @param keyHash Key hash of the thing being restricted\n    /// @return Count of trading period related to keyHash\n    function tradingPeriodCountByKey(bytes32 keyHash) public view returns(uint256) {\n        return  _tradingPeriods[keyHash].length;        \n    }\n\n\n    /// @dev Determines whether a party can trade based on their trading period \n    /// @param keyHash Key hash of the thing being restricted\n    /// @param onDate Date to test for validity\n    /// @return True if they have a valid trading period, false if they do not have a valid trading period\n    function canTrade(bytes32 keyHash, uint256 onDate) public view returns(bool) {\n\n        for (uint256 i = 0; i < _tradingPeriods[keyHash].length; i++) {\n\n            bool hasNoEndDate = _tradingPeriods[keyHash][i].endDate == 0;\n        \n            // is there a trading period that the onDate is within\n            if (_tradingPeriods[keyHash][i].startDate <= onDate && (_tradingPeriods[keyHash][i].endDate > onDate || hasNoEndDate)) {\n                return true;\n            }\n        \n        }\n        \n        return false;\n\n    }\n}",
  "sourcePath": "/Users/mattb/Code/waterledger/core/contracts/trade-restrictions/TradingPeriodRestriction.sol",
  "ast": {
    "absolutePath": "/Users/mattb/Code/waterledger/core/contracts/trade-restrictions/TradingPeriodRestriction.sol",
    "exportedSymbols": {
      "TradingPeriodRestriction": [
        4968
      ]
    },
    "id": 4969,
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 4777,
        "literals": [
          "solidity",
          "^",
          "0.4",
          ".24"
        ],
        "nodeType": "PragmaDirective",
        "src": "0:24:15"
      },
      {
        "absolutePath": "/Users/mattb/Code/waterledger/core/contracts/trade-restrictions/TradeRestriction.sol",
        "file": "./TradeRestriction.sol",
        "id": 4778,
        "nodeType": "ImportDirective",
        "scope": 4969,
        "sourceUnit": 4776,
        "src": "26:32:15",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "baseContracts": [
          {
            "arguments": null,
            "baseName": {
              "contractScope": null,
              "id": 4779,
              "name": "TradeRestriction",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 4775,
              "src": "200:16:15",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_TradeRestriction_$4775",
                "typeString": "contract TradeRestriction"
              }
            },
            "id": 4780,
            "nodeType": "InheritanceSpecifier",
            "src": "200:16:15"
          }
        ],
        "contractDependencies": [
          4775
        ],
        "contractKind": "contract",
        "documentation": "@title Restricts trading to a valid period of time, i.e start and expiry.\n @author Civic Ledger",
        "fullyImplemented": true,
        "id": 4968,
        "linearizedBaseContracts": [
          4968,
          4775
        ],
        "name": "TradingPeriodRestriction",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "canonicalName": "TradingPeriodRestriction.TradingPeriod",
            "id": 4785,
            "members": [
              {
                "constant": false,
                "id": 4782,
                "name": "startDate",
                "nodeType": "VariableDeclaration",
                "scope": 4785,
                "src": "255:17:15",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 4781,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "255:7:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "value": null,
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 4784,
                "name": "endDate",
                "nodeType": "VariableDeclaration",
                "scope": 4785,
                "src": "282:15:15",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 4783,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "282:7:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "value": null,
                "visibility": "internal"
              }
            ],
            "name": "TradingPeriod",
            "nodeType": "StructDefinition",
            "scope": 4968,
            "src": "224:80:15",
            "visibility": "public"
          },
          {
            "constant": false,
            "id": 4790,
            "name": "_tradingPeriods",
            "nodeType": "VariableDeclaration",
            "scope": 4968,
            "src": "310:51:15",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
              "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod[])"
            },
            "typeName": {
              "id": 4789,
              "keyType": {
                "id": 4786,
                "name": "bytes32",
                "nodeType": "ElementaryTypeName",
                "src": "318:7:15",
                "typeDescriptions": {
                  "typeIdentifier": "t_bytes32",
                  "typeString": "bytes32"
                }
              },
              "nodeType": "Mapping",
              "src": "310:35:15",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod[])"
              },
              "valueType": {
                "baseType": {
                  "contractScope": null,
                  "id": 4787,
                  "name": "TradingPeriod",
                  "nodeType": "UserDefinedTypeName",
                  "referencedDeclaration": 4785,
                  "src": "329:13:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage_ptr",
                    "typeString": "struct TradingPeriodRestriction.TradingPeriod"
                  }
                },
                "id": 4788,
                "length": null,
                "nodeType": "ArrayTypeName",
                "src": "329:15:15",
                "typeDescriptions": {
                  "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_ptr",
                  "typeString": "struct TradingPeriodRestriction.TradingPeriod[]"
                }
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 4822,
              "nodeType": "Block",
              "src": "768:159:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 4808,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 4804,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 4802,
                            "name": "start",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4794,
                            "src": "787:5:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "<",
                          "rightExpression": {
                            "argumentTypes": null,
                            "id": 4803,
                            "name": "end",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4796,
                            "src": "795:3:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "787:11:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "||",
                        "rightExpression": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 4807,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 4805,
                            "name": "end",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4796,
                            "src": "802:3:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 4806,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "809:1:15",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "802:8:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "787:23:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "53746172742064617465206d757374206265206265666f726520656e642064617465",
                        "id": 4809,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "812:36:15",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_33f66c55eb8fddd4e272302bad3dd3fef4bbd349c3219272c506763673fc0dd7",
                          "typeString": "literal_string \"Start date must be before end date\""
                        },
                        "value": "Start date must be before end date"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_33f66c55eb8fddd4e272302bad3dd3fef4bbd349c3219272c506763673fc0dd7",
                          "typeString": "literal_string \"Start date must be before end date\""
                        }
                      ],
                      "id": 4801,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        6881,
                        6882
                      ],
                      "referencedDeclaration": 6882,
                      "src": "779:7:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 4810,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "779:70:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 4811,
                  "nodeType": "ExpressionStatement",
                  "src": "779:70:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 4817,
                            "name": "start",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4794,
                            "src": "903:5:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "id": 4818,
                            "name": "end",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4796,
                            "src": "910:3:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          ],
                          "id": 4816,
                          "name": "TradingPeriod",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4785,
                          "src": "889:13:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_struct$_TradingPeriod_$4785_storage_ptr_$",
                            "typeString": "type(struct TradingPeriodRestriction.TradingPeriod storage pointer)"
                          }
                        },
                        "id": 4819,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "structConstructorCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "889:25:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_TradingPeriod_$4785_memory",
                          "typeString": "struct TradingPeriodRestriction.TradingPeriod memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_TradingPeriod_$4785_memory",
                          "typeString": "struct TradingPeriodRestriction.TradingPeriod memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "id": 4812,
                          "name": "_tradingPeriods",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4790,
                          "src": "859:15:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                            "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                          }
                        },
                        "id": 4814,
                        "indexExpression": {
                          "argumentTypes": null,
                          "id": 4813,
                          "name": "keyHash",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4792,
                          "src": "875:7:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bytes32",
                            "typeString": "bytes32"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "859:24:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                          "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                        }
                      },
                      "id": 4815,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "push",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "859:29:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_arraypush_nonpayable$_t_struct$_TradingPeriod_$4785_storage_$returns$_t_uint256_$",
                        "typeString": "function (struct TradingPeriodRestriction.TradingPeriod storage ref) returns (uint256)"
                      }
                    },
                    "id": 4820,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "859:56:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 4821,
                  "nodeType": "ExpressionStatement",
                  "src": "859:56:15"
                }
              ]
            },
            "documentation": "@dev Adds a valid trading period for something identified by keyHash (can add multiple trading periods for a keyHash)\n @param keyHash Key hash of the thing to be restricted\n @param start Start date of the trading period\n @param end End date (expiry) of the trading period",
            "id": 4823,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": false,
            "modifiers": [
              {
                "arguments": [],
                "id": 4799,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 4798,
                  "name": "onlyParentContract",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 4774,
                  "src": "747:18:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "747:20:15"
              }
            ],
            "name": "addTradingPeriod",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 4797,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4792,
                  "name": "keyHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 4823,
                  "src": "695:15:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 4791,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "695:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4794,
                  "name": "start",
                  "nodeType": "VariableDeclaration",
                  "scope": 4823,
                  "src": "712:13:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4793,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "712:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4796,
                  "name": "end",
                  "nodeType": "VariableDeclaration",
                  "scope": 4823,
                  "src": "727:11:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4795,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "727:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "694:45:15"
            },
            "payable": false,
            "returnParameters": {
              "id": 4800,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "768:0:15"
            },
            "scope": 4968,
            "src": "669:258:15",
            "stateMutability": "nonpayable",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 4865,
              "nodeType": "Block",
              "src": "1424:224:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 4843,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 4839,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 4837,
                            "name": "start",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4829,
                            "src": "1443:5:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "<",
                          "rightExpression": {
                            "argumentTypes": null,
                            "id": 4838,
                            "name": "end",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4831,
                            "src": "1451:3:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "1443:11:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "||",
                        "rightExpression": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 4842,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 4840,
                            "name": "end",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4831,
                            "src": "1458:3:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 4841,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "1465:1:15",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "1458:8:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "1443:23:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "53746172742064617465206d757374206265206265666f726520656e642064617465",
                        "id": 4844,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1468:36:15",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_33f66c55eb8fddd4e272302bad3dd3fef4bbd349c3219272c506763673fc0dd7",
                          "typeString": "literal_string \"Start date must be before end date\""
                        },
                        "value": "Start date must be before end date"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_33f66c55eb8fddd4e272302bad3dd3fef4bbd349c3219272c506763673fc0dd7",
                          "typeString": "literal_string \"Start date must be before end date\""
                        }
                      ],
                      "id": 4836,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        6881,
                        6882
                      ],
                      "referencedDeclaration": 6882,
                      "src": "1435:7:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 4845,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1435:70:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 4846,
                  "nodeType": "ExpressionStatement",
                  "src": "1435:70:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 4854,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "id": 4847,
                            "name": "_tradingPeriods",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4790,
                            "src": "1520:15:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                              "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                            }
                          },
                          "id": 4850,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 4848,
                            "name": "keyHash",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4825,
                            "src": "1536:7:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bytes32",
                              "typeString": "bytes32"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "1520:24:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                            "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                          }
                        },
                        "id": 4851,
                        "indexExpression": {
                          "argumentTypes": null,
                          "id": 4849,
                          "name": "periodIndex",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4827,
                          "src": "1545:11:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "1520:37:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                          "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                        }
                      },
                      "id": 4852,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "startDate",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 4782,
                      "src": "1520:47:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 4853,
                      "name": "start",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 4829,
                      "src": "1570:5:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "1520:55:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 4855,
                  "nodeType": "ExpressionStatement",
                  "src": "1520:55:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 4863,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "id": 4856,
                            "name": "_tradingPeriods",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4790,
                            "src": "1585:15:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                              "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                            }
                          },
                          "id": 4859,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 4857,
                            "name": "keyHash",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4825,
                            "src": "1601:7:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bytes32",
                              "typeString": "bytes32"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "1585:24:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                            "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                          }
                        },
                        "id": 4860,
                        "indexExpression": {
                          "argumentTypes": null,
                          "id": 4858,
                          "name": "periodIndex",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4827,
                          "src": "1610:11:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "1585:37:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                          "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                        }
                      },
                      "id": 4861,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "endDate",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 4784,
                      "src": "1585:45:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 4862,
                      "name": "end",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 4831,
                      "src": "1633:3:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "1585:51:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 4864,
                  "nodeType": "ExpressionStatement",
                  "src": "1585:51:15"
                }
              ]
            },
            "documentation": "@dev Updates a valid trading period with different start and end dates.\n @param keyHash Key hash of the thing to be restricted\n @param periodIndex Index of the trading period to change, as there can be multiple periods added\n @param start New start date of the trading period\n @param end New end date (expiry) of the trading period",
            "id": 4866,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": false,
            "modifiers": [
              {
                "arguments": [],
                "id": 4834,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 4833,
                  "name": "onlyParentContract",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 4774,
                  "src": "1403:18:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "1403:20:15"
              }
            ],
            "name": "changeTradingPeriod",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 4832,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4825,
                  "name": "keyHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 4866,
                  "src": "1330:15:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 4824,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "1330:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4827,
                  "name": "periodIndex",
                  "nodeType": "VariableDeclaration",
                  "scope": 4866,
                  "src": "1347:19:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4826,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1347:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4829,
                  "name": "start",
                  "nodeType": "VariableDeclaration",
                  "scope": 4866,
                  "src": "1368:13:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4828,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1368:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4831,
                  "name": "end",
                  "nodeType": "VariableDeclaration",
                  "scope": 4866,
                  "src": "1383:11:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4830,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1383:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1329:66:15"
            },
            "payable": false,
            "returnParameters": {
              "id": 4835,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1424:0:15"
            },
            "scope": 4968,
            "src": "1301:347:15",
            "stateMutability": "nonpayable",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 4891,
              "nodeType": "Block",
              "src": "2025:154:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "components": [
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "baseExpression": {
                              "argumentTypes": null,
                              "id": 4877,
                              "name": "_tradingPeriods",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4790,
                              "src": "2056:15:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                                "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                              }
                            },
                            "id": 4879,
                            "indexExpression": {
                              "argumentTypes": null,
                              "id": 4878,
                              "name": "keyHash",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4868,
                              "src": "2072:7:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bytes32",
                                "typeString": "bytes32"
                              }
                            },
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "IndexAccess",
                            "src": "2056:24:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                              "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                            }
                          },
                          "id": 4881,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 4880,
                            "name": "periodIndex",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4870,
                            "src": "2081:11:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "2056:37:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                            "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                          }
                        },
                        "id": 4882,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "startDate",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 4782,
                        "src": "2056:47:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "baseExpression": {
                              "argumentTypes": null,
                              "id": 4883,
                              "name": "_tradingPeriods",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4790,
                              "src": "2117:15:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                                "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                              }
                            },
                            "id": 4885,
                            "indexExpression": {
                              "argumentTypes": null,
                              "id": 4884,
                              "name": "keyHash",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4868,
                              "src": "2133:7:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bytes32",
                                "typeString": "bytes32"
                              }
                            },
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "IndexAccess",
                            "src": "2117:24:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                              "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                            }
                          },
                          "id": 4887,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 4886,
                            "name": "periodIndex",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4870,
                            "src": "2142:11:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "2117:37:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                            "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                          }
                        },
                        "id": 4888,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "endDate",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 4784,
                        "src": "2117:45:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "id": 4889,
                    "isConstant": false,
                    "isInlineArray": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "TupleExpression",
                    "src": "2042:130:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$_t_uint256_$_t_uint256_$",
                      "typeString": "tuple(uint256,uint256)"
                    }
                  },
                  "functionReturnParameters": 4876,
                  "id": 4890,
                  "nodeType": "Return",
                  "src": "2035:137:15"
                }
              ]
            },
            "documentation": "@dev Retrieves a trading period related to keyHash at period index \n @param keyHash Key hash of the thing being restricted\n @param periodIndex Index of the trading period to retrieve\n @return Start date and end date of the trading period",
            "id": 4892,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "tradingPeriodByKey",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 4871,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4868,
                  "name": "keyHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 4892,
                  "src": "1949:15:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 4867,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "1949:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4870,
                  "name": "periodIndex",
                  "nodeType": "VariableDeclaration",
                  "scope": 4892,
                  "src": "1966:19:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4869,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1966:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1948:38:15"
            },
            "payable": false,
            "returnParameters": {
              "id": 4876,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4873,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 4892,
                  "src": "2007:7:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4872,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2007:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4875,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 4892,
                  "src": "2016:7:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4874,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2016:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2006:18:15"
            },
            "scope": 4968,
            "src": "1921:258:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 4904,
              "nodeType": "Block",
              "src": "2479:64:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "expression": {
                      "argumentTypes": null,
                      "baseExpression": {
                        "argumentTypes": null,
                        "id": 4899,
                        "name": "_tradingPeriods",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 4790,
                        "src": "2497:15:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                          "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                        }
                      },
                      "id": 4901,
                      "indexExpression": {
                        "argumentTypes": null,
                        "id": 4900,
                        "name": "keyHash",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 4894,
                        "src": "2513:7:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bytes32",
                          "typeString": "bytes32"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "IndexAccess",
                      "src": "2497:24:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                        "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                      }
                    },
                    "id": 4902,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "length",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": null,
                    "src": "2497:31:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 4898,
                  "id": 4903,
                  "nodeType": "Return",
                  "src": "2489:39:15"
                }
              ]
            },
            "documentation": "@dev Retrieves the count of trading periods related to keyHash, to support iteration \n @param keyHash Key hash of the thing being restricted\n @return Count of trading period related to keyHash",
            "id": 4905,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "tradingPeriodCountByKey",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 4895,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4894,
                  "name": "keyHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 4905,
                  "src": "2433:15:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 4893,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "2433:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2432:17:15"
            },
            "payable": false,
            "returnParameters": {
              "id": 4898,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4897,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 4905,
                  "src": "2470:7:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4896,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2470:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2469:9:15"
            },
            "scope": 4968,
            "src": "2400:143:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 4966,
              "nodeType": "Block",
              "src": "2925:458:15",
              "statements": [
                {
                  "body": {
                    "id": 4962,
                    "nodeType": "Block",
                    "src": "2998:347:15",
                    "statements": [
                      {
                        "assignments": [
                          4928
                        ],
                        "declarations": [
                          {
                            "constant": false,
                            "id": 4928,
                            "name": "hasNoEndDate",
                            "nodeType": "VariableDeclaration",
                            "scope": 4967,
                            "src": "3013:17:15",
                            "stateVariable": false,
                            "storageLocation": "default",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            },
                            "typeName": {
                              "id": 4927,
                              "name": "bool",
                              "nodeType": "ElementaryTypeName",
                              "src": "3013:4:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              }
                            },
                            "value": null,
                            "visibility": "internal"
                          }
                        ],
                        "id": 4937,
                        "initialValue": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 4936,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "baseExpression": {
                                "argumentTypes": null,
                                "baseExpression": {
                                  "argumentTypes": null,
                                  "id": 4929,
                                  "name": "_tradingPeriods",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 4790,
                                  "src": "3033:15:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                                    "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                                  }
                                },
                                "id": 4931,
                                "indexExpression": {
                                  "argumentTypes": null,
                                  "id": 4930,
                                  "name": "keyHash",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 4907,
                                  "src": "3049:7:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bytes32",
                                    "typeString": "bytes32"
                                  }
                                },
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "nodeType": "IndexAccess",
                                "src": "3033:24:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                                  "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                                }
                              },
                              "id": 4933,
                              "indexExpression": {
                                "argumentTypes": null,
                                "id": 4932,
                                "name": "i",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 4915,
                                "src": "3058:1:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "nodeType": "IndexAccess",
                              "src": "3033:27:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                                "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                              }
                            },
                            "id": 4934,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "endDate",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 4784,
                            "src": "3033:35:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 4935,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "3072:1:15",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "3033:40:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "VariableDeclarationStatement",
                        "src": "3013:60:15"
                      },
                      {
                        "condition": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          },
                          "id": 4957,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 4945,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "argumentTypes": null,
                              "expression": {
                                "argumentTypes": null,
                                "baseExpression": {
                                  "argumentTypes": null,
                                  "baseExpression": {
                                    "argumentTypes": null,
                                    "id": 4938,
                                    "name": "_tradingPeriods",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 4790,
                                    "src": "3167:15:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                                      "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                                    }
                                  },
                                  "id": 4940,
                                  "indexExpression": {
                                    "argumentTypes": null,
                                    "id": 4939,
                                    "name": "keyHash",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 4907,
                                    "src": "3183:7:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_bytes32",
                                      "typeString": "bytes32"
                                    }
                                  },
                                  "isConstant": false,
                                  "isLValue": true,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "nodeType": "IndexAccess",
                                  "src": "3167:24:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                                    "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                                  }
                                },
                                "id": 4942,
                                "indexExpression": {
                                  "argumentTypes": null,
                                  "id": 4941,
                                  "name": "i",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 4915,
                                  "src": "3192:1:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "nodeType": "IndexAccess",
                                "src": "3167:27:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                                  "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                                }
                              },
                              "id": 4943,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "startDate",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 4782,
                              "src": "3167:37:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "<=",
                            "rightExpression": {
                              "argumentTypes": null,
                              "id": 4944,
                              "name": "onDate",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4909,
                              "src": "3208:6:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "src": "3167:47:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "&&",
                          "rightExpression": {
                            "argumentTypes": null,
                            "components": [
                              {
                                "argumentTypes": null,
                                "commonType": {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                },
                                "id": 4955,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftExpression": {
                                  "argumentTypes": null,
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "id": 4953,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftExpression": {
                                    "argumentTypes": null,
                                    "expression": {
                                      "argumentTypes": null,
                                      "baseExpression": {
                                        "argumentTypes": null,
                                        "baseExpression": {
                                          "argumentTypes": null,
                                          "id": 4946,
                                          "name": "_tradingPeriods",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 4790,
                                          "src": "3219:15:15",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                                            "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                                          }
                                        },
                                        "id": 4948,
                                        "indexExpression": {
                                          "argumentTypes": null,
                                          "id": 4947,
                                          "name": "keyHash",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 4907,
                                          "src": "3235:7:15",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_bytes32",
                                            "typeString": "bytes32"
                                          }
                                        },
                                        "isConstant": false,
                                        "isLValue": true,
                                        "isPure": false,
                                        "lValueRequested": false,
                                        "nodeType": "IndexAccess",
                                        "src": "3219:24:15",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                                          "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                                        }
                                      },
                                      "id": 4950,
                                      "indexExpression": {
                                        "argumentTypes": null,
                                        "id": 4949,
                                        "name": "i",
                                        "nodeType": "Identifier",
                                        "overloadedDeclarations": [],
                                        "referencedDeclaration": 4915,
                                        "src": "3244:1:15",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_uint256",
                                          "typeString": "uint256"
                                        }
                                      },
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "nodeType": "IndexAccess",
                                      "src": "3219:27:15",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                                        "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                                      }
                                    },
                                    "id": 4951,
                                    "isConstant": false,
                                    "isLValue": true,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "memberName": "endDate",
                                    "nodeType": "MemberAccess",
                                    "referencedDeclaration": 4784,
                                    "src": "3219:35:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "nodeType": "BinaryOperation",
                                  "operator": ">",
                                  "rightExpression": {
                                    "argumentTypes": null,
                                    "id": 4952,
                                    "name": "onDate",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 4909,
                                    "src": "3257:6:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "src": "3219:44:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bool",
                                    "typeString": "bool"
                                  }
                                },
                                "nodeType": "BinaryOperation",
                                "operator": "||",
                                "rightExpression": {
                                  "argumentTypes": null,
                                  "id": 4954,
                                  "name": "hasNoEndDate",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 4928,
                                  "src": "3267:12:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bool",
                                    "typeString": "bool"
                                  }
                                },
                                "src": "3219:60:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                }
                              }
                            ],
                            "id": 4956,
                            "isConstant": false,
                            "isInlineArray": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "TupleExpression",
                            "src": "3218:62:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          },
                          "src": "3167:113:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "falseBody": null,
                        "id": 4961,
                        "nodeType": "IfStatement",
                        "src": "3163:163:15",
                        "trueBody": {
                          "id": 4960,
                          "nodeType": "Block",
                          "src": "3282:44:15",
                          "statements": [
                            {
                              "expression": {
                                "argumentTypes": null,
                                "hexValue": "74727565",
                                "id": 4958,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "kind": "bool",
                                "lValueRequested": false,
                                "nodeType": "Literal",
                                "src": "3307:4:15",
                                "subdenomination": null,
                                "typeDescriptions": {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                },
                                "value": "true"
                              },
                              "functionReturnParameters": 4913,
                              "id": 4959,
                              "nodeType": "Return",
                              "src": "3300:11:15"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "condition": {
                    "argumentTypes": null,
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 4923,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "argumentTypes": null,
                      "id": 4918,
                      "name": "i",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 4915,
                      "src": "2956:1:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "id": 4919,
                          "name": "_tradingPeriods",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4790,
                          "src": "2960:15:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                            "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                          }
                        },
                        "id": 4921,
                        "indexExpression": {
                          "argumentTypes": null,
                          "id": 4920,
                          "name": "keyHash",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4907,
                          "src": "2976:7:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bytes32",
                            "typeString": "bytes32"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "2960:24:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                          "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                        }
                      },
                      "id": 4922,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "length",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "2960:31:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "2956:35:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 4963,
                  "initializationExpression": {
                    "assignments": [
                      4915
                    ],
                    "declarations": [
                      {
                        "constant": false,
                        "id": 4915,
                        "name": "i",
                        "nodeType": "VariableDeclaration",
                        "scope": 4967,
                        "src": "2941:9:15",
                        "stateVariable": false,
                        "storageLocation": "default",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "typeName": {
                          "id": 4914,
                          "name": "uint256",
                          "nodeType": "ElementaryTypeName",
                          "src": "2941:7:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "value": null,
                        "visibility": "internal"
                      }
                    ],
                    "id": 4917,
                    "initialValue": {
                      "argumentTypes": null,
                      "hexValue": "30",
                      "id": 4916,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "2953:1:15",
                      "subdenomination": null,
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "nodeType": "VariableDeclarationStatement",
                    "src": "2941:13:15"
                  },
                  "loopExpression": {
                    "expression": {
                      "argumentTypes": null,
                      "id": 4925,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "UnaryOperation",
                      "operator": "++",
                      "prefix": false,
                      "src": "2993:3:15",
                      "subExpression": {
                        "argumentTypes": null,
                        "id": 4924,
                        "name": "i",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 4915,
                        "src": "2993:1:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 4926,
                    "nodeType": "ExpressionStatement",
                    "src": "2993:3:15"
                  },
                  "nodeType": "ForStatement",
                  "src": "2936:409:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "hexValue": "66616c7365",
                    "id": 4964,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": true,
                    "kind": "bool",
                    "lValueRequested": false,
                    "nodeType": "Literal",
                    "src": "3370:5:15",
                    "subdenomination": null,
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    },
                    "value": "false"
                  },
                  "functionReturnParameters": 4913,
                  "id": 4965,
                  "nodeType": "Return",
                  "src": "3363:12:15"
                }
              ]
            },
            "documentation": "@dev Determines whether a party can trade based on their trading period \n @param keyHash Key hash of the thing being restricted\n @param onDate Date to test for validity\n @return True if they have a valid trading period, false if they do not have a valid trading period",
            "id": 4967,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "canTrade",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 4910,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4907,
                  "name": "keyHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 4967,
                  "src": "2866:15:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 4906,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "2866:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4909,
                  "name": "onDate",
                  "nodeType": "VariableDeclaration",
                  "scope": 4967,
                  "src": "2883:14:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4908,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2883:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2865:33:15"
            },
            "payable": false,
            "returnParameters": {
              "id": 4913,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4912,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 4967,
                  "src": "2919:4:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 4911,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "2919:4:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2918:6:15"
            },
            "scope": 4968,
            "src": "2848:535:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "public"
          }
        ],
        "scope": 4969,
        "src": "163:3222:15"
      }
    ],
    "src": "0:3385:15"
  },
  "legacyAST": {
    "absolutePath": "/Users/mattb/Code/waterledger/core/contracts/trade-restrictions/TradingPeriodRestriction.sol",
    "exportedSymbols": {
      "TradingPeriodRestriction": [
        4968
      ]
    },
    "id": 4969,
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 4777,
        "literals": [
          "solidity",
          "^",
          "0.4",
          ".24"
        ],
        "nodeType": "PragmaDirective",
        "src": "0:24:15"
      },
      {
        "absolutePath": "/Users/mattb/Code/waterledger/core/contracts/trade-restrictions/TradeRestriction.sol",
        "file": "./TradeRestriction.sol",
        "id": 4778,
        "nodeType": "ImportDirective",
        "scope": 4969,
        "sourceUnit": 4776,
        "src": "26:32:15",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "baseContracts": [
          {
            "arguments": null,
            "baseName": {
              "contractScope": null,
              "id": 4779,
              "name": "TradeRestriction",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 4775,
              "src": "200:16:15",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_TradeRestriction_$4775",
                "typeString": "contract TradeRestriction"
              }
            },
            "id": 4780,
            "nodeType": "InheritanceSpecifier",
            "src": "200:16:15"
          }
        ],
        "contractDependencies": [
          4775
        ],
        "contractKind": "contract",
        "documentation": "@title Restricts trading to a valid period of time, i.e start and expiry.\n @author Civic Ledger",
        "fullyImplemented": true,
        "id": 4968,
        "linearizedBaseContracts": [
          4968,
          4775
        ],
        "name": "TradingPeriodRestriction",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "canonicalName": "TradingPeriodRestriction.TradingPeriod",
            "id": 4785,
            "members": [
              {
                "constant": false,
                "id": 4782,
                "name": "startDate",
                "nodeType": "VariableDeclaration",
                "scope": 4785,
                "src": "255:17:15",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 4781,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "255:7:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "value": null,
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 4784,
                "name": "endDate",
                "nodeType": "VariableDeclaration",
                "scope": 4785,
                "src": "282:15:15",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint256",
                  "typeString": "uint256"
                },
                "typeName": {
                  "id": 4783,
                  "name": "uint256",
                  "nodeType": "ElementaryTypeName",
                  "src": "282:7:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  }
                },
                "value": null,
                "visibility": "internal"
              }
            ],
            "name": "TradingPeriod",
            "nodeType": "StructDefinition",
            "scope": 4968,
            "src": "224:80:15",
            "visibility": "public"
          },
          {
            "constant": false,
            "id": 4790,
            "name": "_tradingPeriods",
            "nodeType": "VariableDeclaration",
            "scope": 4968,
            "src": "310:51:15",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
              "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod[])"
            },
            "typeName": {
              "id": 4789,
              "keyType": {
                "id": 4786,
                "name": "bytes32",
                "nodeType": "ElementaryTypeName",
                "src": "318:7:15",
                "typeDescriptions": {
                  "typeIdentifier": "t_bytes32",
                  "typeString": "bytes32"
                }
              },
              "nodeType": "Mapping",
              "src": "310:35:15",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod[])"
              },
              "valueType": {
                "baseType": {
                  "contractScope": null,
                  "id": 4787,
                  "name": "TradingPeriod",
                  "nodeType": "UserDefinedTypeName",
                  "referencedDeclaration": 4785,
                  "src": "329:13:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage_ptr",
                    "typeString": "struct TradingPeriodRestriction.TradingPeriod"
                  }
                },
                "id": 4788,
                "length": null,
                "nodeType": "ArrayTypeName",
                "src": "329:15:15",
                "typeDescriptions": {
                  "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_ptr",
                  "typeString": "struct TradingPeriodRestriction.TradingPeriod[]"
                }
              }
            },
            "value": null,
            "visibility": "internal"
          },
          {
            "body": {
              "id": 4822,
              "nodeType": "Block",
              "src": "768:159:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 4808,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 4804,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 4802,
                            "name": "start",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4794,
                            "src": "787:5:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "<",
                          "rightExpression": {
                            "argumentTypes": null,
                            "id": 4803,
                            "name": "end",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4796,
                            "src": "795:3:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "787:11:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "||",
                        "rightExpression": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 4807,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 4805,
                            "name": "end",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4796,
                            "src": "802:3:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 4806,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "809:1:15",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "802:8:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "787:23:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "53746172742064617465206d757374206265206265666f726520656e642064617465",
                        "id": 4809,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "812:36:15",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_33f66c55eb8fddd4e272302bad3dd3fef4bbd349c3219272c506763673fc0dd7",
                          "typeString": "literal_string \"Start date must be before end date\""
                        },
                        "value": "Start date must be before end date"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_33f66c55eb8fddd4e272302bad3dd3fef4bbd349c3219272c506763673fc0dd7",
                          "typeString": "literal_string \"Start date must be before end date\""
                        }
                      ],
                      "id": 4801,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        6881,
                        6882
                      ],
                      "referencedDeclaration": 6882,
                      "src": "779:7:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 4810,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "779:70:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 4811,
                  "nodeType": "ExpressionStatement",
                  "src": "779:70:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 4817,
                            "name": "start",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4794,
                            "src": "903:5:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "id": 4818,
                            "name": "end",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4796,
                            "src": "910:3:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          ],
                          "id": 4816,
                          "name": "TradingPeriod",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4785,
                          "src": "889:13:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_type$_t_struct$_TradingPeriod_$4785_storage_ptr_$",
                            "typeString": "type(struct TradingPeriodRestriction.TradingPeriod storage pointer)"
                          }
                        },
                        "id": 4819,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "structConstructorCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "889:25:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_TradingPeriod_$4785_memory",
                          "typeString": "struct TradingPeriodRestriction.TradingPeriod memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_TradingPeriod_$4785_memory",
                          "typeString": "struct TradingPeriodRestriction.TradingPeriod memory"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "id": 4812,
                          "name": "_tradingPeriods",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4790,
                          "src": "859:15:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                            "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                          }
                        },
                        "id": 4814,
                        "indexExpression": {
                          "argumentTypes": null,
                          "id": 4813,
                          "name": "keyHash",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4792,
                          "src": "875:7:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bytes32",
                            "typeString": "bytes32"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "859:24:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                          "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                        }
                      },
                      "id": 4815,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "push",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "859:29:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_arraypush_nonpayable$_t_struct$_TradingPeriod_$4785_storage_$returns$_t_uint256_$",
                        "typeString": "function (struct TradingPeriodRestriction.TradingPeriod storage ref) returns (uint256)"
                      }
                    },
                    "id": 4820,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "859:56:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 4821,
                  "nodeType": "ExpressionStatement",
                  "src": "859:56:15"
                }
              ]
            },
            "documentation": "@dev Adds a valid trading period for something identified by keyHash (can add multiple trading periods for a keyHash)\n @param keyHash Key hash of the thing to be restricted\n @param start Start date of the trading period\n @param end End date (expiry) of the trading period",
            "id": 4823,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": false,
            "modifiers": [
              {
                "arguments": [],
                "id": 4799,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 4798,
                  "name": "onlyParentContract",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 4774,
                  "src": "747:18:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "747:20:15"
              }
            ],
            "name": "addTradingPeriod",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 4797,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4792,
                  "name": "keyHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 4823,
                  "src": "695:15:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 4791,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "695:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4794,
                  "name": "start",
                  "nodeType": "VariableDeclaration",
                  "scope": 4823,
                  "src": "712:13:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4793,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "712:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4796,
                  "name": "end",
                  "nodeType": "VariableDeclaration",
                  "scope": 4823,
                  "src": "727:11:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4795,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "727:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "694:45:15"
            },
            "payable": false,
            "returnParameters": {
              "id": 4800,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "768:0:15"
            },
            "scope": 4968,
            "src": "669:258:15",
            "stateMutability": "nonpayable",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 4865,
              "nodeType": "Block",
              "src": "1424:224:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 4843,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 4839,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 4837,
                            "name": "start",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4829,
                            "src": "1443:5:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "<",
                          "rightExpression": {
                            "argumentTypes": null,
                            "id": 4838,
                            "name": "end",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4831,
                            "src": "1451:3:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "1443:11:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "||",
                        "rightExpression": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 4842,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 4840,
                            "name": "end",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4831,
                            "src": "1458:3:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 4841,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "1465:1:15",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "1458:8:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "1443:23:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "53746172742064617465206d757374206265206265666f726520656e642064617465",
                        "id": 4844,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1468:36:15",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_33f66c55eb8fddd4e272302bad3dd3fef4bbd349c3219272c506763673fc0dd7",
                          "typeString": "literal_string \"Start date must be before end date\""
                        },
                        "value": "Start date must be before end date"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_33f66c55eb8fddd4e272302bad3dd3fef4bbd349c3219272c506763673fc0dd7",
                          "typeString": "literal_string \"Start date must be before end date\""
                        }
                      ],
                      "id": 4836,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        6881,
                        6882
                      ],
                      "referencedDeclaration": 6882,
                      "src": "1435:7:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 4845,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1435:70:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 4846,
                  "nodeType": "ExpressionStatement",
                  "src": "1435:70:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 4854,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "id": 4847,
                            "name": "_tradingPeriods",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4790,
                            "src": "1520:15:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                              "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                            }
                          },
                          "id": 4850,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 4848,
                            "name": "keyHash",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4825,
                            "src": "1536:7:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bytes32",
                              "typeString": "bytes32"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "1520:24:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                            "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                          }
                        },
                        "id": 4851,
                        "indexExpression": {
                          "argumentTypes": null,
                          "id": 4849,
                          "name": "periodIndex",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4827,
                          "src": "1545:11:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "1520:37:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                          "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                        }
                      },
                      "id": 4852,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "startDate",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 4782,
                      "src": "1520:47:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 4853,
                      "name": "start",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 4829,
                      "src": "1570:5:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "1520:55:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 4855,
                  "nodeType": "ExpressionStatement",
                  "src": "1520:55:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 4863,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "id": 4856,
                            "name": "_tradingPeriods",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4790,
                            "src": "1585:15:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                              "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                            }
                          },
                          "id": 4859,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 4857,
                            "name": "keyHash",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4825,
                            "src": "1601:7:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bytes32",
                              "typeString": "bytes32"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "1585:24:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                            "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                          }
                        },
                        "id": 4860,
                        "indexExpression": {
                          "argumentTypes": null,
                          "id": 4858,
                          "name": "periodIndex",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4827,
                          "src": "1610:11:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "1585:37:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                          "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                        }
                      },
                      "id": 4861,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "endDate",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 4784,
                      "src": "1585:45:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 4862,
                      "name": "end",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 4831,
                      "src": "1633:3:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "1585:51:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 4864,
                  "nodeType": "ExpressionStatement",
                  "src": "1585:51:15"
                }
              ]
            },
            "documentation": "@dev Updates a valid trading period with different start and end dates.\n @param keyHash Key hash of the thing to be restricted\n @param periodIndex Index of the trading period to change, as there can be multiple periods added\n @param start New start date of the trading period\n @param end New end date (expiry) of the trading period",
            "id": 4866,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": false,
            "modifiers": [
              {
                "arguments": [],
                "id": 4834,
                "modifierName": {
                  "argumentTypes": null,
                  "id": 4833,
                  "name": "onlyParentContract",
                  "nodeType": "Identifier",
                  "overloadedDeclarations": [],
                  "referencedDeclaration": 4774,
                  "src": "1403:18:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_modifier$__$",
                    "typeString": "modifier ()"
                  }
                },
                "nodeType": "ModifierInvocation",
                "src": "1403:20:15"
              }
            ],
            "name": "changeTradingPeriod",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 4832,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4825,
                  "name": "keyHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 4866,
                  "src": "1330:15:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 4824,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "1330:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4827,
                  "name": "periodIndex",
                  "nodeType": "VariableDeclaration",
                  "scope": 4866,
                  "src": "1347:19:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4826,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1347:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4829,
                  "name": "start",
                  "nodeType": "VariableDeclaration",
                  "scope": 4866,
                  "src": "1368:13:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4828,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1368:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4831,
                  "name": "end",
                  "nodeType": "VariableDeclaration",
                  "scope": 4866,
                  "src": "1383:11:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4830,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1383:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1329:66:15"
            },
            "payable": false,
            "returnParameters": {
              "id": 4835,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1424:0:15"
            },
            "scope": 4968,
            "src": "1301:347:15",
            "stateMutability": "nonpayable",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 4891,
              "nodeType": "Block",
              "src": "2025:154:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "components": [
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "baseExpression": {
                              "argumentTypes": null,
                              "id": 4877,
                              "name": "_tradingPeriods",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4790,
                              "src": "2056:15:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                                "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                              }
                            },
                            "id": 4879,
                            "indexExpression": {
                              "argumentTypes": null,
                              "id": 4878,
                              "name": "keyHash",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4868,
                              "src": "2072:7:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bytes32",
                                "typeString": "bytes32"
                              }
                            },
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "IndexAccess",
                            "src": "2056:24:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                              "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                            }
                          },
                          "id": 4881,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 4880,
                            "name": "periodIndex",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4870,
                            "src": "2081:11:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "2056:37:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                            "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                          }
                        },
                        "id": 4882,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "startDate",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 4782,
                        "src": "2056:47:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "baseExpression": {
                              "argumentTypes": null,
                              "id": 4883,
                              "name": "_tradingPeriods",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4790,
                              "src": "2117:15:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                                "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                              }
                            },
                            "id": 4885,
                            "indexExpression": {
                              "argumentTypes": null,
                              "id": 4884,
                              "name": "keyHash",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4868,
                              "src": "2133:7:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bytes32",
                                "typeString": "bytes32"
                              }
                            },
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "IndexAccess",
                            "src": "2117:24:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                              "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                            }
                          },
                          "id": 4887,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 4886,
                            "name": "periodIndex",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 4870,
                            "src": "2142:11:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "2117:37:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                            "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                          }
                        },
                        "id": 4888,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "endDate",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 4784,
                        "src": "2117:45:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "id": 4889,
                    "isConstant": false,
                    "isInlineArray": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "TupleExpression",
                    "src": "2042:130:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$_t_uint256_$_t_uint256_$",
                      "typeString": "tuple(uint256,uint256)"
                    }
                  },
                  "functionReturnParameters": 4876,
                  "id": 4890,
                  "nodeType": "Return",
                  "src": "2035:137:15"
                }
              ]
            },
            "documentation": "@dev Retrieves a trading period related to keyHash at period index \n @param keyHash Key hash of the thing being restricted\n @param periodIndex Index of the trading period to retrieve\n @return Start date and end date of the trading period",
            "id": 4892,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "tradingPeriodByKey",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 4871,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4868,
                  "name": "keyHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 4892,
                  "src": "1949:15:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 4867,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "1949:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4870,
                  "name": "periodIndex",
                  "nodeType": "VariableDeclaration",
                  "scope": 4892,
                  "src": "1966:19:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4869,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "1966:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1948:38:15"
            },
            "payable": false,
            "returnParameters": {
              "id": 4876,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4873,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 4892,
                  "src": "2007:7:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4872,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2007:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4875,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 4892,
                  "src": "2016:7:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4874,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2016:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2006:18:15"
            },
            "scope": 4968,
            "src": "1921:258:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 4904,
              "nodeType": "Block",
              "src": "2479:64:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "expression": {
                      "argumentTypes": null,
                      "baseExpression": {
                        "argumentTypes": null,
                        "id": 4899,
                        "name": "_tradingPeriods",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 4790,
                        "src": "2497:15:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                          "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                        }
                      },
                      "id": 4901,
                      "indexExpression": {
                        "argumentTypes": null,
                        "id": 4900,
                        "name": "keyHash",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 4894,
                        "src": "2513:7:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bytes32",
                          "typeString": "bytes32"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "IndexAccess",
                      "src": "2497:24:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                        "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                      }
                    },
                    "id": 4902,
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "length",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": null,
                    "src": "2497:31:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 4898,
                  "id": 4903,
                  "nodeType": "Return",
                  "src": "2489:39:15"
                }
              ]
            },
            "documentation": "@dev Retrieves the count of trading periods related to keyHash, to support iteration \n @param keyHash Key hash of the thing being restricted\n @return Count of trading period related to keyHash",
            "id": 4905,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "tradingPeriodCountByKey",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 4895,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4894,
                  "name": "keyHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 4905,
                  "src": "2433:15:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 4893,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "2433:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2432:17:15"
            },
            "payable": false,
            "returnParameters": {
              "id": 4898,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4897,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 4905,
                  "src": "2470:7:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4896,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2470:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2469:9:15"
            },
            "scope": 4968,
            "src": "2400:143:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 4966,
              "nodeType": "Block",
              "src": "2925:458:15",
              "statements": [
                {
                  "body": {
                    "id": 4962,
                    "nodeType": "Block",
                    "src": "2998:347:15",
                    "statements": [
                      {
                        "assignments": [
                          4928
                        ],
                        "declarations": [
                          {
                            "constant": false,
                            "id": 4928,
                            "name": "hasNoEndDate",
                            "nodeType": "VariableDeclaration",
                            "scope": 4967,
                            "src": "3013:17:15",
                            "stateVariable": false,
                            "storageLocation": "default",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            },
                            "typeName": {
                              "id": 4927,
                              "name": "bool",
                              "nodeType": "ElementaryTypeName",
                              "src": "3013:4:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              }
                            },
                            "value": null,
                            "visibility": "internal"
                          }
                        ],
                        "id": 4937,
                        "initialValue": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 4936,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "baseExpression": {
                                "argumentTypes": null,
                                "baseExpression": {
                                  "argumentTypes": null,
                                  "id": 4929,
                                  "name": "_tradingPeriods",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 4790,
                                  "src": "3033:15:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                                    "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                                  }
                                },
                                "id": 4931,
                                "indexExpression": {
                                  "argumentTypes": null,
                                  "id": 4930,
                                  "name": "keyHash",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 4907,
                                  "src": "3049:7:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bytes32",
                                    "typeString": "bytes32"
                                  }
                                },
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "nodeType": "IndexAccess",
                                "src": "3033:24:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                                  "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                                }
                              },
                              "id": 4933,
                              "indexExpression": {
                                "argumentTypes": null,
                                "id": 4932,
                                "name": "i",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 4915,
                                "src": "3058:1:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "nodeType": "IndexAccess",
                              "src": "3033:27:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                                "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                              }
                            },
                            "id": 4934,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "endDate",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 4784,
                            "src": "3033:35:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "==",
                          "rightExpression": {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 4935,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "3072:1:15",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "3033:40:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "VariableDeclarationStatement",
                        "src": "3013:60:15"
                      },
                      {
                        "condition": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          },
                          "id": 4957,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "commonType": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            },
                            "id": 4945,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "leftExpression": {
                              "argumentTypes": null,
                              "expression": {
                                "argumentTypes": null,
                                "baseExpression": {
                                  "argumentTypes": null,
                                  "baseExpression": {
                                    "argumentTypes": null,
                                    "id": 4938,
                                    "name": "_tradingPeriods",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 4790,
                                    "src": "3167:15:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                                      "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                                    }
                                  },
                                  "id": 4940,
                                  "indexExpression": {
                                    "argumentTypes": null,
                                    "id": 4939,
                                    "name": "keyHash",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 4907,
                                    "src": "3183:7:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_bytes32",
                                      "typeString": "bytes32"
                                    }
                                  },
                                  "isConstant": false,
                                  "isLValue": true,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "nodeType": "IndexAccess",
                                  "src": "3167:24:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                                    "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                                  }
                                },
                                "id": 4942,
                                "indexExpression": {
                                  "argumentTypes": null,
                                  "id": 4941,
                                  "name": "i",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 4915,
                                  "src": "3192:1:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "nodeType": "IndexAccess",
                                "src": "3167:27:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                                  "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                                }
                              },
                              "id": 4943,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "startDate",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 4782,
                              "src": "3167:37:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "nodeType": "BinaryOperation",
                            "operator": "<=",
                            "rightExpression": {
                              "argumentTypes": null,
                              "id": 4944,
                              "name": "onDate",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 4909,
                              "src": "3208:6:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "src": "3167:47:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "&&",
                          "rightExpression": {
                            "argumentTypes": null,
                            "components": [
                              {
                                "argumentTypes": null,
                                "commonType": {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                },
                                "id": 4955,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftExpression": {
                                  "argumentTypes": null,
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "id": 4953,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "leftExpression": {
                                    "argumentTypes": null,
                                    "expression": {
                                      "argumentTypes": null,
                                      "baseExpression": {
                                        "argumentTypes": null,
                                        "baseExpression": {
                                          "argumentTypes": null,
                                          "id": 4946,
                                          "name": "_tradingPeriods",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 4790,
                                          "src": "3219:15:15",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                                            "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                                          }
                                        },
                                        "id": 4948,
                                        "indexExpression": {
                                          "argumentTypes": null,
                                          "id": 4947,
                                          "name": "keyHash",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 4907,
                                          "src": "3235:7:15",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_bytes32",
                                            "typeString": "bytes32"
                                          }
                                        },
                                        "isConstant": false,
                                        "isLValue": true,
                                        "isPure": false,
                                        "lValueRequested": false,
                                        "nodeType": "IndexAccess",
                                        "src": "3219:24:15",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                                          "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                                        }
                                      },
                                      "id": 4950,
                                      "indexExpression": {
                                        "argumentTypes": null,
                                        "id": 4949,
                                        "name": "i",
                                        "nodeType": "Identifier",
                                        "overloadedDeclarations": [],
                                        "referencedDeclaration": 4915,
                                        "src": "3244:1:15",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_uint256",
                                          "typeString": "uint256"
                                        }
                                      },
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "nodeType": "IndexAccess",
                                      "src": "3219:27:15",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_struct$_TradingPeriod_$4785_storage",
                                        "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref"
                                      }
                                    },
                                    "id": 4951,
                                    "isConstant": false,
                                    "isLValue": true,
                                    "isPure": false,
                                    "lValueRequested": false,
                                    "memberName": "endDate",
                                    "nodeType": "MemberAccess",
                                    "referencedDeclaration": 4784,
                                    "src": "3219:35:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "nodeType": "BinaryOperation",
                                  "operator": ">",
                                  "rightExpression": {
                                    "argumentTypes": null,
                                    "id": 4952,
                                    "name": "onDate",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 4909,
                                    "src": "3257:6:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  },
                                  "src": "3219:44:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bool",
                                    "typeString": "bool"
                                  }
                                },
                                "nodeType": "BinaryOperation",
                                "operator": "||",
                                "rightExpression": {
                                  "argumentTypes": null,
                                  "id": 4954,
                                  "name": "hasNoEndDate",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 4928,
                                  "src": "3267:12:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_bool",
                                    "typeString": "bool"
                                  }
                                },
                                "src": "3219:60:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                }
                              }
                            ],
                            "id": 4956,
                            "isConstant": false,
                            "isInlineArray": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "nodeType": "TupleExpression",
                            "src": "3218:62:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_bool",
                              "typeString": "bool"
                            }
                          },
                          "src": "3167:113:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "falseBody": null,
                        "id": 4961,
                        "nodeType": "IfStatement",
                        "src": "3163:163:15",
                        "trueBody": {
                          "id": 4960,
                          "nodeType": "Block",
                          "src": "3282:44:15",
                          "statements": [
                            {
                              "expression": {
                                "argumentTypes": null,
                                "hexValue": "74727565",
                                "id": 4958,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": true,
                                "kind": "bool",
                                "lValueRequested": false,
                                "nodeType": "Literal",
                                "src": "3307:4:15",
                                "subdenomination": null,
                                "typeDescriptions": {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                },
                                "value": "true"
                              },
                              "functionReturnParameters": 4913,
                              "id": 4959,
                              "nodeType": "Return",
                              "src": "3300:11:15"
                            }
                          ]
                        }
                      }
                    ]
                  },
                  "condition": {
                    "argumentTypes": null,
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 4923,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "argumentTypes": null,
                      "id": 4918,
                      "name": "i",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 4915,
                      "src": "2956:1:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "id": 4919,
                          "name": "_tradingPeriods",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4790,
                          "src": "2960:15:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_mapping$_t_bytes32_$_t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage_$",
                            "typeString": "mapping(bytes32 => struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref)"
                          }
                        },
                        "id": 4921,
                        "indexExpression": {
                          "argumentTypes": null,
                          "id": 4920,
                          "name": "keyHash",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 4907,
                          "src": "2976:7:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bytes32",
                            "typeString": "bytes32"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "2960:24:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_struct$_TradingPeriod_$4785_storage_$dyn_storage",
                          "typeString": "struct TradingPeriodRestriction.TradingPeriod storage ref[] storage ref"
                        }
                      },
                      "id": 4922,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "length",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": null,
                      "src": "2960:31:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "2956:35:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 4963,
                  "initializationExpression": {
                    "assignments": [
                      4915
                    ],
                    "declarations": [
                      {
                        "constant": false,
                        "id": 4915,
                        "name": "i",
                        "nodeType": "VariableDeclaration",
                        "scope": 4967,
                        "src": "2941:9:15",
                        "stateVariable": false,
                        "storageLocation": "default",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "typeName": {
                          "id": 4914,
                          "name": "uint256",
                          "nodeType": "ElementaryTypeName",
                          "src": "2941:7:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "value": null,
                        "visibility": "internal"
                      }
                    ],
                    "id": 4917,
                    "initialValue": {
                      "argumentTypes": null,
                      "hexValue": "30",
                      "id": 4916,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "2953:1:15",
                      "subdenomination": null,
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "nodeType": "VariableDeclarationStatement",
                    "src": "2941:13:15"
                  },
                  "loopExpression": {
                    "expression": {
                      "argumentTypes": null,
                      "id": 4925,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "UnaryOperation",
                      "operator": "++",
                      "prefix": false,
                      "src": "2993:3:15",
                      "subExpression": {
                        "argumentTypes": null,
                        "id": 4924,
                        "name": "i",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 4915,
                        "src": "2993:1:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 4926,
                    "nodeType": "ExpressionStatement",
                    "src": "2993:3:15"
                  },
                  "nodeType": "ForStatement",
                  "src": "2936:409:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "hexValue": "66616c7365",
                    "id": 4964,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": true,
                    "kind": "bool",
                    "lValueRequested": false,
                    "nodeType": "Literal",
                    "src": "3370:5:15",
                    "subdenomination": null,
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    },
                    "value": "false"
                  },
                  "functionReturnParameters": 4913,
                  "id": 4965,
                  "nodeType": "Return",
                  "src": "3363:12:15"
                }
              ]
            },
            "documentation": "@dev Determines whether a party can trade based on their trading period \n @param keyHash Key hash of the thing being restricted\n @param onDate Date to test for validity\n @return True if they have a valid trading period, false if they do not have a valid trading period",
            "id": 4967,
            "implemented": true,
            "isConstructor": false,
            "isDeclaredConst": true,
            "modifiers": [],
            "name": "canTrade",
            "nodeType": "FunctionDefinition",
            "parameters": {
              "id": 4910,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4907,
                  "name": "keyHash",
                  "nodeType": "VariableDeclaration",
                  "scope": 4967,
                  "src": "2866:15:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bytes32",
                    "typeString": "bytes32"
                  },
                  "typeName": {
                    "id": 4906,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "2866:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 4909,
                  "name": "onDate",
                  "nodeType": "VariableDeclaration",
                  "scope": 4967,
                  "src": "2883:14:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 4908,
                    "name": "uint256",
                    "nodeType": "ElementaryTypeName",
                    "src": "2883:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2865:33:15"
            },
            "payable": false,
            "returnParameters": {
              "id": 4913,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 4912,
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "scope": 4967,
                  "src": "2919:4:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_bool",
                    "typeString": "bool"
                  },
                  "typeName": {
                    "id": 4911,
                    "name": "bool",
                    "nodeType": "ElementaryTypeName",
                    "src": "2919:4:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2918:6:15"
            },
            "scope": 4968,
            "src": "2848:535:15",
            "stateMutability": "view",
            "superFunction": null,
            "visibility": "public"
          }
        ],
        "scope": 4969,
        "src": "163:3222:15"
      }
    ],
    "src": "0:3385:15"
  },
  "compiler": {
    "name": "solc",
    "version": "0.4.25+commit.59dbf8f1.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "3.0.0-beta.1",
  "updatedAt": "2018-11-22T14:03:15.122Z"
}